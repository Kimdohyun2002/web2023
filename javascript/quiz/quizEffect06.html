<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>퀴즈이펙트06</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/quiz.css">
</head>
<body >
    <header id="header">
        <h1><a href="../javascript14.html">Quiz</a> <em>객관식 확인하기(여러문제) 유형 : 슬라이드 유형</em></h1>
        <ul>
            <li><a href="quizEffect01.html">1</a></li>
            <li><a href="quizEffect02.html">2</a></li>
            <li><a href="quizEffect03.html">3</a></li>  
            <li><a href="quizEffect04.html">4</a></li>         
            <li><a href="quizEffect05.html">5</a></li>         
            <li class="active"><a href="quizEffect05.html">6</a></li>           
            
        </ul>
    </header> 
    <!-- //header -->


    <main id="main">
        <div class="quiz__wrap">
            <div class="quiz">
                <div class="quize__header">
                    <h2 class="quiz__title"></h2>
                </div>
                <div class="quize__main">
                <div class="quiz__question"></div>
                <div class="quiz__view">
                    <div class="dog__wrap">
                        <div class="question__number"></div>
                        <div class="true">정답입니다!</div>
                        <div class="false">틀렸습니다!</div>
                        <div class="card-container">
                            <div class="dog">
                                <div class="head">
                                    <div class="ears"></div>
                                    <div class="face"></div>
                                    <div class="eyes">
                                        <div class="teardrop"></div>
                                    </div>
                                    <div class="nose"></div>
                                    <div class="mouth">
                                        <div class="tongue"></div>
                                    </div>
                                    <div class="chin"></div>
                                </div>
                                <div class="body">
                                    <div class="tail"></div>
                                    <div class="legs"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="quiz__info"></div>
                    <div class="quiz__check"></div>
                </div>
                <div class="quiz__choice">
                    <!-- <label for="choice1">
                        <input type="radio" id="choice1" name="choice" class="select" value="1">
                        <span></span>
                    </label>
                    <label for="choice2">
                        <input type="radio" id="choice2" name="choice" value="2">
                        <span></span>
                    </label>
                    <label for="choice3">
                        <input type="radio" id="choice3" name="choice" value="3">
                        <span></span>
                    </label>
                    <label for="choice4">
                        <input type="radio" id="choice4" name="choice" value="4">
                        <span></span>
                    </label> -->
                </div>
                <div class="quiz__answer">
                    <button class="next">다음 문제</button>
                </div>
                
                <div class="quiz__desc"></div>
            </div>
            </div>     
        </div>
    </div>
    </main>
    <!-- //main -->


    <footer id="footer">
        <a href="mail:kshkmn0929@naver.com">kshkmn0929@naver.com</a>
    </footer>
    <!-- //footer -->
    <script>
        const quizInfo = [
            {
                infoType: "정보처리 기능사",
                infoTime: "2007년 04월 01일(2회)",
                infoNumber: "20070201",
                infoQuestion: "flip-flop의 종류에 해당하지 않는 것은?",
                infoChoice: ["R-S","J-K","D","R"],
                infoAnswer: "R",
                infoDesc: "R 플립플롭은 존재 하지 않습니다."
            },{
                infoType: "정보처리 기능사",
                infoTime: "2007년 04월 01일(2회)",
                infoNumber: "20070202",
                infoQuestion: "보기의 도형과 관련 있는 사항은?<br><img style='width:300px' src='../assets/img/noname01.tmp'>",
                infoChoice: ["OR 게이트", "버퍼(buffer)", "NAND 게이트", "인버터(Inverter)"],
                infoAnswer: "인버터(Inverter)",
                infoDesc: "그림은 인버터(NOT)입니다."
            },{
                infoType: "정보처리 기능사",
                infoTime: "2007년 04월 01일(2회)",
                infoNumber: "20070203",
                infoQuestion: "<img style='width:300px' src='../assets/img/question3.jpg'>",
                infoChoice: ["1번","2번","3번","4번"],
                infoAnswer: "4번",
                infoDesc: "드모르간 정리는 위에 긴 막대를 쪼개고 안의 부호를 바꾸는 방식입니다."
            },{
                infoType: "정보처리 기능사",
                infoTime: "2007년 04월 01일(2회)",
                infoNumber: "20070204",
                infoQuestion: "논리적 연산의 종류에 해당되지 않는 것은?",
                infoChoice: ["AND","OR","Rotate","ADD"],
                infoAnswer: "ADD",
                infoDesc: "ADD는 덧셈을 의미하며 논리연산이 아닌 산술 연산 입니다.<br>산술적연산은 4가지입니다.<br>ADD - 덧셈 / SUB - 뺄셈 / MUL - 곱셈 / DIV - 나눗셈<br>그외에 산술적 shift 가 있는데 좌로 2shift x2를 의미하며,<br> 우로 2shift 는 1/2를 의미"
            },{
                infoType: "정보처리 기능사",
                infoTime: "2007년 04월 01일(2회)",
                infoNumber: "20070205",
                infoQuestion: "다음 블록화 레코드에서 블록화 인수는?<br><img style='width:300px' src='../assets/img/noname02.tmp'>",
                infoChoice: ["1","2","3","4"],
                infoAnswer: "3",
                infoDesc: "블록화 인수(BF)는 IBG와 IBG 사이의 논리 레코드 갯수를 의미 합니다."
            },{
                infoType: "정보처리 기능사",
                infoTime: "2007년 04월 01일(2회)",
                infoNumber: "20070206",
                infoQuestion: "로더(loader)의 기능이 아닌 것은?",
                infoChoice: ["할당(allocation)","링킹(linking)","재배치(relocation)","스케줄링(scheduling)"],
                infoAnswer: "스케줄링(scheduling)",
                infoDesc: "로더는 메모리로 프로그램을 불러 주는 기능을 합니다..스케쥴링이란 CPU의 스케쥴을 짜주는것을 말합니다."
            }
        ]

        // 선택자
        const quizWrap = document.querySelector(".quiz__wrap");
        const quizTitle = quizWrap.querySelector(".quiz__title");
        const quizQuestion = quizWrap.querySelector(".quiz__question");
        const quizChoice = quizWrap.querySelector(".quiz__choice");
        const dogWrap = quizWrap.querySelector(".dog__wrap");
        const quizAnswer = quizWrap.querySelector(".quiz__answer");
        const quizNext = quizWrap.querySelector(".quiz__answer .next");
        const quizDesc = quizWrap.querySelector(".quiz__desc");
        const quizQuestionNum = quizWrap.querySelector(".question__number")
        const quizInfO = quizWrap.querySelector(".quiz__info");
        const quizCheck = quizWrap.querySelector(".quiz__check");
        
        let quizCount = 0;
        let quizScore = 0;
        

        // 문제출력
        const updateQuize = (index) => {
            let typeTag = `
                <span>${quizInfo[index].infoType}</span>
                <em>${quizInfo[index].infoTime}</em>
            `;
            let questionTag = `
                <em>${index+1}</em>.
                <span>${quizInfo[index].infoQuestion}</span>
            `;
            let questionnumTag = `
                <div class="question__number">현재 남은 문제는 ${[quizInfo.length-index]} 현재 ${[index+1]} 번</div>                
            `;
            let choiceTag = `
                    <label for="choice1">
                        <input type="radio" id="choice1" name="choice" class="select" value="1">
                        <span>${quizInfo[index].infoChoice[0]}</span>
                    </label>
                    <label for="choice2">
                        <input type="radio" id="choice2" name="choice" class="select"  value="2">
                        <span>${quizInfo[index].infoChoice[1]}</span>
                    </label>
                    <label for="choice3">
                        <input type="radio" id="choice3" name="choice" class="select"  value="3">
                        <span>${quizInfo[index].infoChoice[2]}</span>
                    </label>
                    <label for="choice4">
                        <input type="radio" id="choice4" name="choice" class="select"  value="4">
                        <span>${quizInfo[index].infoChoice[3]}</span>
                    </label>
                `;
            let descTag = `
                정답은 ${quizInfo[index].infoAnswer} 입니다.
                ${quizInfo[index].infoDesc}
            `;
            
            
            quizTitle.innerHTML = typeTag;
            quizQuestion.innerHTML = questionTag;
            quizChoice.innerHTML = choiceTag;
            quizDesc.innerHTML = descTag;
            quizQuestionNum.innerHTML = questionnumTag;
            quizInfO.innerHTML = "??"
            quizCheck.innerHTML = "정답 확인"

            // 보기 선택자
            const quizChoiceSpan = quizWrap.querySelectorAll(".quiz__choice span");
            const quizChoiceInput = quizWrap.querySelectorAll(".quiz__choice input");
            
            // quizChoiceSpan.forEach((span, num) => {
            //     span.setAttribute("onclick", "choiceSelected(this)")
            // });

            for(let i=0; i<quizChoiceSpan.length; i++){
                quizChoiceSpan[i].setAttribute("onclick", "choiceSelected(this)");
                // quizChoiceInput.disabled = "true";
            }
            

            // 다음 버튼, 해설 숨기기
            quizAnswer.style.display = "none";
            quizDesc.style.display = "none";
        };

        updateQuize(quizCount);


        // 객관식 선택
        function choiceSelected(answer){
            let userAnswer = answer.textContent;                    // 사용자 정답
            let currentAnswer = quizInfo[quizCount].infoAnswer;     // 문제 정답


            if(userAnswer == currentAnswer){
                console.log("정답입니다.");
                dogWrap.classList.add("like");
            } else {
                console.log("오답입니다.");
                dogWrap.classList.add("dislike");
            }

            // 다음 버튼, 해설 나타나기
            
            quizAnswer.style.display = "block";
            quizDesc.style.display = "block";
        }
        
    
        // 정답 확인
        quizNext.addEventListener("click", () => {
            quizCount++;
            updateQuize(quizCount);

            dogWrap.classList.remove("like", "dislike");
        });

        
        document.querySelector(".quiz__check").addEventListener("click", answerQuiz);
    </script>
</body>
</html>